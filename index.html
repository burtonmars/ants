<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="#">
	<link rel="stylesheet" href="global.css">

	<title>ants</title>

	<script src="../libraries/p5.js"></script>
	<script src="../libraries/p5.dom.js"></script>
	<script src="../libraries/p5.sound.js"></script>
	<script src="../libraries/p5.gif.js"></script>
	<script src="../libraries/p5.gif.min.js"></script>
	<script src="sketch.js"></script>
	<script src="ant.js"></script>
	<script src="enemy.js"></script>

</head>

<body style="background-color:#f2f2f2;text-align:center">
	<div class="header-container">
		<h1>Self-Organizing Ants</h1>
		<button class="question-button" id="popupBtn">?</button>
		<div id="popup" class="popup">
			<h1>The self-organization ants sim:</h1>
			<p>The idea behind the ant colony simulation was to develop various algorithms that attempt to
				mimic the amazing organizational mechanics of a real ant colony where ants that have certain "jobs" are able to reassign their roles
				based on the colony's current needs.
			</p>
			<p>The ants emit many different pheromones which communicate signals to surrounding ants. More information
				can be found <a href="https://www.sciencedirect.com/topics/agricultural-and-biological-sciences/trail-pheromone#:~:text=Pheromones%20are%20used%20as%20communication,again%20in%20an%20efficient%20manner." target="_blank" rel="noreferrer">here</a>.
			</p>
			<p>To simulate a self balancing ant colony, enter an unequal number of ants for each of the three roles then click simulate to 
				watch the ants wander around the colony and interact with one another. The ants have a short term memory 
				to keep track of the number of ants of each role whose pheromones clouds they pass through. When they detect a strong imbalance
				favoring the role they are currently assigned, they will switch to the role that they have recently detected the least.
			</p>
			<p>The goal is for equilibrium to be reached as soon as possible (kept track of with the equilibrium timer below the colony). Equilibrius is reached
				when the colony reaches close to an equal number of ants completing each of the 3 "jobs".
			</p>
			<p>The size of the pheromone cloud (pheromone strength) and the willingness to change roles (political bias) can be adjusted before adding ants to the colony.
				An enemy can also be made to attack the colony by clicking anywhere inside the colony. Nearby ants will attack the enemy and start emitting soldier 
				pheromones. After enough ants attack the enemy, the enemy will be vanquished and the ants will return to their normal
				behavior.
			</p>
    	</div>
	</div>
    <div id="overlay" class="overlay"></div>
	<div class="popupContainer">
		<p>You can add an enemy by clicking anywhere on the canvas!</p>
	</div>
	<p><strong>Enter a number of ants for each job</strong></p>
	<div id="input-boxes-ant-numbers">
		<div>
			Gatherer Ants <span style="color: #008000">(green)</span>
			<input class="ants-input" id="input1" autocomplete="off"></input>
		</div><br>
		<div>
			Soldier Ants <span style="color: #FF0000">(red)</span>
			<input class="ants-input" id="input2" autocomplete="off"></input>
		</div><br>
		<div>
			Builder Ants <span style="color: #0000FF">(blue)</span>
			<input class="ants-input" id="input3" autocomplete="off"></input>
		</div class="slide-container"><br>
		<label for="ferimone-strength">Pheromone Strength</label>
		<input class="slider" type="range" min="10" max="250" value="10" id="buffer-slider">
		<label for="political-bias">Political Bias</label>
		<input class="slider" type="range" min="0" max="4" value="0" id="bias-slider">
		<div style="margin-top:10px">
			<input type="checkbox" class="checkbox" id="randomize-checkbox" style="margin-left:20px">
			<label for="randomize-checkbox">Randomize Decisions</label>
			<input type="checkbox" class="checkbox" id="memory-checkbox" style="margin-left:20px">
			<label for="memory-checkbox">Add Memory</label>
			<input type="checkbox" class="checkbox" id="threshold-checkbox" style="margin-left:20px">
			<label for="threshold-checkbox">Add Threshold</label>
			<input type="checkbox" class="checkbox" id="bias-checkbox" style="margin-left:20px">
			<label for="bias-checkbox">Add Bias</label>
		</div>
	</div>
	<br>
	<a id="simul-button"></a>
	</div><br>
	<div id="ant-farm"></div>
	<br>
	<a id="enemy-button"></a>
	<p id="color-count"></p>
	<div id="timer-and-spread">
		<a id="eq-timer"></a>
		<a id="avg-spread"></a>
		<a id="death-count"></a>
	</div>
	<div class="footer">
		Â© 2020-2023 Marshal Burton
	</div>

	 <script>
        const popupBtn = document.getElementById("popupBtn");
        const closeBtn = document.getElementById("closeBtn");
        const popup = document.getElementById("popup");
        const overlay = document.getElementById("overlay");

        popupBtn.addEventListener("click", () => {
            popup.style.display = "block";
            overlay.style.display = "block";
        });

        overlay.addEventListener("click", () => {
            popup.style.display = "none";
            overlay.style.display = "none";
        });
    </script>

</body>

</html>